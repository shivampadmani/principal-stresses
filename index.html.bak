<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
    <title> Principal Stresses </title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body class="fullbody">
    <h1 id="heading"> Welcome to Principal Stress Calculator </h1>
    <table id="mainbody">
      <tbody>
        <tr>
          <td class="left"> <img src="images/main_diagram.jpg" alt="Basic Diagram">
            <form id="user_input">
              <table>
                <tbody>
                  <tr>
                    <td> ?<sub>x</sub> </td>
                    <td> <input class="textbox" id="stress-x" type="text"> </td>
                  </tr>
                  <tr>
                    <td> ?<sub>y</sub> </td>
                    <td> <input id="stress-y" class="textbox" type="text"> </td>
                  </tr>
                  <tr>
                    <td> ?<sub>xy</sub> </td>
                    <td> <input id="shear" class="textbox" type="text"> </td>
                  </tr>
                </tbody>
              </table>
              &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; <input

id="calculate_now" value="Calculate" onclick="calculate()" type="submit"> </form>
          </td>
          <td class="right"> <canvas id="myCanvas" width="100%"></canvas>
            <p id="pstress-1"></p>
            <p id="pstress-2"></p>
            <p id="pthetap"></p>
            <p id="pshearmax"></p>
            <table>
              <tbody>
                <tr class="circlebox">
                  <!--circle will be drawn here.--> </tr>
                <tr class="answerbox">
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
    <script>
        function calculate() {
            event.preventDefault();
            var x = document.getElementById("stress-x").value;
            var y = document.getElementById("stress-y").value;
            var z = document.getElementById("shear").value;
            var sigma1, sigma2, thetaP, thetaS, shearMax, mohrradius, v;
            //all fromulas here!!!
            //mohrradius=Math.sqrt(Math.pow(((x-y)/2,2))+Math.pow(z,2));
            mohrradius = Math.sqrt(((x - y) * (x - y) / 4) + z * z);
            v = (2 * z) / (x - y);
            sigma1 = ((x + y) / 2) + mohrradius;
            sigma2 = ((x + y) / 2) - mohrradius;
            thetaP = (Math.atan(v)) / 2;
            shearMax = (sigma1 - sigma2) / 2;
            document.getElementById("pstress-1").innerHTML = "The Maximum Principal Stress for this case is" + sigma1 + "N/mm^2";
            document.getElementById("pstress-2").innerHTML = "The Minimum Principal Stress for this case is" + sigma2 + "N/mm^2";
            document.getElementById("pshearmax").innerHTML = "The maximum shear stress is " + shearMax + "N/mm^2";
            document.getElementById("pthetap").innerHTML = "The angle of principal planes is " + thetaP + "radians";
            /*document.getElementById("pstress-1").innerHTML = sigma1;
            document.getElementById("pstress-2").innerHTML = sigma2;*/
      

        var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
ctx.beginPath();
ctx.arc(100, 75,mohrradius, 0, 2 * Math.PI);
ctx.stroke();
}
    </script>
  </body>
</html>
